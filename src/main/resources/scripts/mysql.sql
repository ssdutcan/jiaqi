/**新建schema*/
CREATE SCHEMA `knlzf` DEFAULT CHARACTER SET utf8;

/**查看schema*/
show schemas;

/**选择指定的schema*/
use knlzf;

/**新建table*/
CREATE TABLE `micr_dbt_bsndtl_rgstbook` (
  `MSGIDNO` char(16) NOT NULL,
  `DTL_ID_NO` char(16) NOT NULL,
  `MSGRP_RCV_SND_IDCD` char(2) NOT NULL,
  `MSGRP_ENTRST_DT` datetime NOT NULL,
  `ITT_PCPR_BRNO` char(12) NOT NULL,
  `RCV_PCPR_BRNO` char(12) DEFAULT NULL,
  `PY_PSN_NM` varchar(45) DEFAULT NULL,
  `PY_PSN_ACCNO` varchar(45) DEFAULT NULL,
  `RCVPYMTPS_NM` varchar(45) DEFAULT NULL,
  `RCVPYMTPS_ACCNO` varchar(45) DEFAULT NULL,
  `RMT_AMT` decimal(19,2) DEFAULT NULL,
  `MSGRP_PCSST` char(2) DEFAULT NULL,
  `RMT_AR_ID` char(23) DEFAULT NULL,
  PRIMARY KEY (`MSGIDNO`,`DTL_ID_NO`,`MSGRP_RCV_SND_IDCD`,`MSGRP_ENTRST_DT`,`ITT_PCPR_BRNO`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

/**插入数据*/
INSERT INTO `micr_dbt_bsndtl_rgstbook` (`MSGIDNO`,`DTL_ID_NO`,`MSGRP_RCV_SND_IDCD`,`MSGRP_ENTRST_DT`,`ITT_PCPR_BRNO`,`RCV_PCPR_BRNO`,`PY_PSN_NM`,`PY_PSN_ACCNO`,`RCVPYMTPS_NM`,`RCVPYMTPS_ACCNO`,`RMT_AMT`,`MSGRP_PCSST`,`RMT_AR_ID`) VALUES ('2016091900000000','2016091900000000','01','2016-09-19 00:00:00','105100000017','105100000017','yagami','123456789','macan','987654321',100.00,'01','03305201509190000000000');
INSERT INTO `micr_dbt_bsndtl_rgstbook` (`MSGIDNO`,`DTL_ID_NO`,`MSGRP_RCV_SND_IDCD`,`MSGRP_ENTRST_DT`,`ITT_PCPR_BRNO`,`RCV_PCPR_BRNO`,`PY_PSN_NM`,`PY_PSN_ACCNO`,`RCVPYMTPS_NM`,`RCVPYMTPS_ACCNO`,`RMT_AMT`,`MSGRP_PCSST`,`RMT_AR_ID`) VALUES ('2016091900000001','2016091900000001','01','2016-09-19 00:00:00','105100000017','105100000017','yagami','123456789','macan','987654321',100.00,'01','03305201509190000000001');
INSERT INTO `micr_dbt_bsndtl_rgstbook` (`MSGIDNO`,`DTL_ID_NO`,`MSGRP_RCV_SND_IDCD`,`MSGRP_ENTRST_DT`,`ITT_PCPR_BRNO`,`RCV_PCPR_BRNO`,`PY_PSN_NM`,`PY_PSN_ACCNO`,`RCVPYMTPS_NM`,`RCVPYMTPS_ACCNO`,`RMT_AMT`,`MSGRP_PCSST`,`RMT_AR_ID`) VALUES ('2016091900000002','2016091900000002','01','2016-09-19 00:00:00','105100000017','105100000017','yagami','123456789','macan','987654321',100.00,'01','03305201509190000000002');
INSERT INTO `micr_dbt_bsndtl_rgstbook` (`MSGIDNO`,`DTL_ID_NO`,`MSGRP_RCV_SND_IDCD`,`MSGRP_ENTRST_DT`,`ITT_PCPR_BRNO`,`RCV_PCPR_BRNO`,`PY_PSN_NM`,`PY_PSN_ACCNO`,`RCVPYMTPS_NM`,`RCVPYMTPS_ACCNO`,`RMT_AMT`,`MSGRP_PCSST`,`RMT_AR_ID`) VALUES ('2016091900000003','2016091900000003','01','2016-09-19 00:00:00','105100000017','105100000017','yagami','123456789','macan','987654321',100.00,'01','03305201509190000000003');
INSERT INTO `micr_dbt_bsndtl_rgstbook` (`MSGIDNO`,`DTL_ID_NO`,`MSGRP_RCV_SND_IDCD`,`MSGRP_ENTRST_DT`,`ITT_PCPR_BRNO`,`RCV_PCPR_BRNO`,`PY_PSN_NM`,`PY_PSN_ACCNO`,`RCVPYMTPS_NM`,`RCVPYMTPS_ACCNO`,`RMT_AMT`,`MSGRP_PCSST`,`RMT_AR_ID`) VALUES ('2016091900000004','2016091900000004','01','2016-09-19 00:00:00','105100000017','105100000017','yagami','123456789','macan','987654321',100.00,'01','03305201509190000000004');
INSERT INTO `micr_dbt_bsndtl_rgstbook` (`MSGIDNO`,`DTL_ID_NO`,`MSGRP_RCV_SND_IDCD`,`MSGRP_ENTRST_DT`,`ITT_PCPR_BRNO`,`RCV_PCPR_BRNO`,`PY_PSN_NM`,`PY_PSN_ACCNO`,`RCVPYMTPS_NM`,`RCVPYMTPS_ACCNO`,`RMT_AMT`,`MSGRP_PCSST`,`RMT_AR_ID`) VALUES ('2016091900000005','2016091900000005','01','2016-09-19 00:00:00','105100000017','105100000017','yagami','123456789','macan','987654321',100.00,'01','03305201509190000000005');
INSERT INTO `micr_dbt_bsndtl_rgstbook` (`MSGIDNO`,`DTL_ID_NO`,`MSGRP_RCV_SND_IDCD`,`MSGRP_ENTRST_DT`,`ITT_PCPR_BRNO`,`RCV_PCPR_BRNO`,`PY_PSN_NM`,`PY_PSN_ACCNO`,`RCVPYMTPS_NM`,`RCVPYMTPS_ACCNO`,`RMT_AMT`,`MSGRP_PCSST`,`RMT_AR_ID`) VALUES ('2016091900000006','2016091900000006','01','2016-09-19 00:00:00','105100000017','105100000017','yagami','123456789','macan','987654321',100.00,'01','03305201509190000000006');
INSERT INTO `micr_dbt_bsndtl_rgstbook` (`MSGIDNO`,`DTL_ID_NO`,`MSGRP_RCV_SND_IDCD`,`MSGRP_ENTRST_DT`,`ITT_PCPR_BRNO`,`RCV_PCPR_BRNO`,`PY_PSN_NM`,`PY_PSN_ACCNO`,`RCVPYMTPS_NM`,`RCVPYMTPS_ACCNO`,`RMT_AMT`,`MSGRP_PCSST`,`RMT_AR_ID`) VALUES ('2016091900000007','2016091900000007','01','2016-09-19 00:00:00','105100000017','105100000017','yagami','123456789','macan','987654321',100.00,'01','03305201509190000000007');
INSERT INTO `micr_dbt_bsndtl_rgstbook` (`MSGIDNO`,`DTL_ID_NO`,`MSGRP_RCV_SND_IDCD`,`MSGRP_ENTRST_DT`,`ITT_PCPR_BRNO`,`RCV_PCPR_BRNO`,`PY_PSN_NM`,`PY_PSN_ACCNO`,`RCVPYMTPS_NM`,`RCVPYMTPS_ACCNO`,`RMT_AMT`,`MSGRP_PCSST`,`RMT_AR_ID`) VALUES ('2016091900000008','2016091900000008','01','2016-09-19 00:00:00','105100000017','105100000017','yagami','123456789','macan','987654321',100.00,'01','03305201509190000000008');
INSERT INTO `micr_dbt_bsndtl_rgstbook` (`MSGIDNO`,`DTL_ID_NO`,`MSGRP_RCV_SND_IDCD`,`MSGRP_ENTRST_DT`,`ITT_PCPR_BRNO`,`RCV_PCPR_BRNO`,`PY_PSN_NM`,`PY_PSN_ACCNO`,`RCVPYMTPS_NM`,`RCVPYMTPS_ACCNO`,`RMT_AMT`,`MSGRP_PCSST`,`RMT_AR_ID`) VALUES ('2016091900000009','2016091900000009','01','2016-09-19 00:00:00','105100000017','105100000017','yagami','123456789','macan','987654321',100.00,'01','03305201509190000000009');

/**新建repl用户，赋予192.168.56网段slave服务器的REPLICATION SLAVE权限*/
CREATE USER 'repl'@'192.168.56.%' IDENTIFIED BY 'repl';
GRANT REPLICATION SLAVE ON *.* TO 'repl'@'192.168.56.%' IDENTIFIED BY 'repl';

/**编辑my.cnf*/
sudo vim /etc/mysql/my.cnf

/**重启mysql*/
sudo mysqld restart

/**py_rte_tbl*/
CREATE TABLE `py_rte_tbl` (
  `PY_RTE_CD` char(3) NOT NULL,
  `EXG_WAY_CD` char(2) DEFAULT NULL,
  `BSN_OPT_ST` char(1) DEFAULT NULL,
  `RMTNWYDT` datetime DEFAULT NULL,
  `AMT_LWRLMT` decimal(19,2) DEFAULT NULL,
  `RMT_AMT_UPLM` decimal(19,2) DEFAULT NULL,
  `HOL_IND` char(1) DEFAULT NULL,
  `HOL_RSTRC_AMT` decimal(19,2) DEFAULT NULL,
  PRIMARY KEY (`PY_RTE_CD`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

/**插入数据*/
INSERT INTO `master`.`py_rte_tbl` (`PY_RTE_CD`, `EXG_WAY_CD`, `BSN_OPT_ST`, `RMTNWYDT`, `AMT_LWRLMT`, `RMT_AMT_UPLM`, `HOL_IND`, `HOL_RSTRC_AMT`) VALUES ('301', '03', '1', '2016-10-17', '50000', '9999999999', '0', '0');
INSERT INTO `master`.`py_rte_tbl` (`PY_RTE_CD`, `EXG_WAY_CD`, `BSN_OPT_ST`, `RMTNWYDT`, `AMT_LWRLMT`, `RMT_AMT_UPLM`, `HOL_IND`, `HOL_RSTRC_AMT`) VALUES ('302', '04', '1', '2016-10-17', '0', '50000', '1', '500000');
INSERT INTO `master`.`py_rte_tbl` (`PY_RTE_CD`, `EXG_WAY_CD`, `BSN_OPT_ST`, `RMTNWYDT`, `AMT_LWRLMT`, `RMT_AMT_UPLM`, `HOL_IND`, `HOL_RSTRC_AMT`) VALUES ('303', '05', '1', '2016-10-17', '0', '50000', '0', '0');

/**py_rte_brno_rel_tbl*/
CREATE TABLE `py_rte_brno_rel_tbl` (
  `PCP_BRNO` varchar(12) NOT NULL,
  `PY_RTE_CD` varchar(3) NOT NULL,
  `PCP_FULLNM` varchar(45) DEFAULT NULL,
  `BLNG_DRC_PCPR_BRNO` varchar(12) DEFAULT NULL,
  PRIMARY KEY (`PCP_BRNO`,`PY_RTE_CD`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


/**插入数据*/
INSERT INTO `py_rte_brno_rel_tbl` (`PCP_BRNO`,`PY_RTE_CD`,`PCP_FULLNM`,`BLNG_DRC_PCPR_BRNO`) VALUES ('102100099996','301','中国工商银行总行清算中心','102100099996');
INSERT INTO `py_rte_brno_rel_tbl` (`PCP_BRNO`,`PY_RTE_CD`,`PCP_FULLNM`,`BLNG_DRC_PCPR_BRNO`) VALUES ('102100099996','302','中国工商银行总行清算中心','102100099996');
INSERT INTO `py_rte_brno_rel_tbl` (`PCP_BRNO`,`PY_RTE_CD`,`PCP_FULLNM`,`BLNG_DRC_PCPR_BRNO`) VALUES ('102100099996','303','中国工商银行总行清算中心','102100099996');
INSERT INTO `py_rte_brno_rel_tbl` (`PCP_BRNO`,`PY_RTE_CD`,`PCP_FULLNM`,`BLNG_DRC_PCPR_BRNO`) VALUES ('102100099996','304','中国工商银行总行清算中心','102100099996');
INSERT INTO `py_rte_brno_rel_tbl` (`PCP_BRNO`,`PY_RTE_CD`,`PCP_FULLNM`,`BLNG_DRC_PCPR_BRNO`) VALUES ('103100000026','301','中国农业银行资金清算中心','103100000026');
INSERT INTO `py_rte_brno_rel_tbl` (`PCP_BRNO`,`PY_RTE_CD`,`PCP_FULLNM`,`BLNG_DRC_PCPR_BRNO`) VALUES ('103100000026','302','中国农业银行资金清算中心','103100000026');
INSERT INTO `py_rte_brno_rel_tbl` (`PCP_BRNO`,`PY_RTE_CD`,`PCP_FULLNM`,`BLNG_DRC_PCPR_BRNO`) VALUES ('103100000026','303','中国农业银行资金清算中心','103100000026');
INSERT INTO `py_rte_brno_rel_tbl` (`PCP_BRNO`,`PY_RTE_CD`,`PCP_FULLNM`,`BLNG_DRC_PCPR_BRNO`) VALUES ('103100000026','304','中国农业银行资金清算中心','103100000026');
INSERT INTO `py_rte_brno_rel_tbl` (`PCP_BRNO`,`PY_RTE_CD`,`PCP_FULLNM`,`BLNG_DRC_PCPR_BRNO`) VALUES ('104100000004','301','中国银行总行','104100000004');
INSERT INTO `py_rte_brno_rel_tbl` (`PCP_BRNO`,`PY_RTE_CD`,`PCP_FULLNM`,`BLNG_DRC_PCPR_BRNO`) VALUES ('104100000004','302','中国银行总行','104100000004');
INSERT INTO `py_rte_brno_rel_tbl` (`PCP_BRNO`,`PY_RTE_CD`,`PCP_FULLNM`,`BLNG_DRC_PCPR_BRNO`) VALUES ('104100000004','303','中国银行总行','104100000004');
INSERT INTO `py_rte_brno_rel_tbl` (`PCP_BRNO`,`PY_RTE_CD`,`PCP_FULLNM`,`BLNG_DRC_PCPR_BRNO`) VALUES ('104100000004','304','中国银行总行','104100000004');
INSERT INTO `py_rte_brno_rel_tbl` (`PCP_BRNO`,`PY_RTE_CD`,`PCP_FULLNM`,`BLNG_DRC_PCPR_BRNO`) VALUES ('105100000017','301','中国建设银行总行','105100000017');
INSERT INTO `py_rte_brno_rel_tbl` (`PCP_BRNO`,`PY_RTE_CD`,`PCP_FULLNM`,`BLNG_DRC_PCPR_BRNO`) VALUES ('105100000017','302','中国建设银行总行','105100000017');
INSERT INTO `py_rte_brno_rel_tbl` (`PCP_BRNO`,`PY_RTE_CD`,`PCP_FULLNM`,`BLNG_DRC_PCPR_BRNO`) VALUES ('105100000017','303','中国建设银行总行','105100000017');
INSERT INTO `py_rte_brno_rel_tbl` (`PCP_BRNO`,`PY_RTE_CD`,`PCP_FULLNM`,`BLNG_DRC_PCPR_BRNO`) VALUES ('105100000017','304','中国建设银行总行','105100000017');
INSERT INTO `py_rte_brno_rel_tbl` (`PCP_BRNO`,`PY_RTE_CD`,`PCP_FULLNM`,`BLNG_DRC_PCPR_BRNO`) VALUES ('301290000007','301','交通银行','301290000007');
INSERT INTO `py_rte_brno_rel_tbl` (`PCP_BRNO`,`PY_RTE_CD`,`PCP_FULLNM`,`BLNG_DRC_PCPR_BRNO`) VALUES ('301290000007','302','交通银行','301290000007');
INSERT INTO `py_rte_brno_rel_tbl` (`PCP_BRNO`,`PY_RTE_CD`,`PCP_FULLNM`,`BLNG_DRC_PCPR_BRNO`) VALUES ('301290000007','303','交通银行','301290000007');
INSERT INTO `py_rte_brno_rel_tbl` (`PCP_BRNO`,`PY_RTE_CD`,`PCP_FULLNM`,`BLNG_DRC_PCPR_BRNO`) VALUES ('301290000007','304','交通银行','301290000007');

/**plfrm_jrnl_tbl*/
CREATE TABLE `pltfrm_jrnl_tbl` (
  `OVRL_STTN_EV_TRCK_NO` varchar(25) NOT NULL,
  `WKDY_PRD` date NOT NULL,
  `PYST_SVC_NM` varchar(9) DEFAULT NULL,
  `SYS_RECV_TIME` datetime DEFAULT NULL,
  `SYS_RESP_TIME` datetime DEFAULT NULL,
  `SVC_RSP_ST` varchar(2) DEFAULT NULL,
  `RMT_AR_ID` varchar(23) DEFAULT NULL,
  `PYST_DTBS_TM` varchar(17) DEFAULT NULL,
  `CNST_JRNL_PCSST` varchar(2) DEFAULT NULL,
  `PYST_RQS_MSGBDY_CNTNT` blob,
  `PYST_RSP_MSGBDY_CNTNT` blob,
  PRIMARY KEY (`OVRL_STTN_EV_TRCK_NO`,`WKDY_PRD`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

/**py_pdar_tbl*/
CREATE TABLE `py_pdar_tbl` (
  `RMT_AR_ID` char(23) NOT NULL,
  `PY_PSN_NM` varchar(45) DEFAULT NULL,
  `PY_PSN_ACCNO` varchar(45) DEFAULT NULL,
  `RMT_AMT` decimal(19,2) DEFAULT NULL,
  `WKDY_PRD` date DEFAULT NULL,
  `EXG_WAY_CD` char(2) DEFAULT NULL,
  PRIMARY KEY (`RMT_AR_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

/**sequence*/
CREATE TABLE `sequence` (
  `SEQ_KEY` varchar(64) NOT NULL,
  `SEQ_VALUE` bigint(20) DEFAULT NULL,
  PRIMARY KEY (`SEQ_KEY`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

INSERT INTO `master`.`sequence` (`SEQ_KEY`, `SEQ_VALUE`) VALUES ('RMT_AR_ID', 9999999999);
